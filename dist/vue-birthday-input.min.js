!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("moment")):"function"==typeof define&&define.amd?define("VueBirthdayInput",["moment"],e):"object"==typeof exports?exports.VueBirthdayInput=e(require("moment")):t.VueBirthdayInput=e(t.moment)}(this,function(t){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i={install:function(t){t.component(r.a.name,r.a)}};r.a.install=i.install,e.default=r.a},function(t,e,n){"use strict";var r=n(3),i=n(5),o=n(2),a=o(r.a,i.a,!1,null,null,null);e.a=a.exports},function(t,e){t.exports=function(t,e,n,r,i,o){var a,s=t=t||{},u=typeof t.default;"object"!==u&&"function"!==u||(a=t,s=t.default);var d="function"==typeof s?s.options:s;e&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0),n&&(d.functional=!0),i&&(d._scopeId=i);var l;if(o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},d._ssrRegister=l):r&&(l=r),l){var c=d.functional,f=c?d.render:d.beforeCreate;c?(d._injectStyles=l,d.render=function(t,e){return l.call(e),f(t,e)}):d.beforeCreate=f?[].concat(f,l):[l]}return{esModule:a,exports:s,options:d}}},function(t,e,n){"use strict";var r=n(4),i=n.n(r);e.a={name:"vue-birthday-input",props:{placeholder:{default:"出生日期",type:String},format:{default:"YYYYMMDD",type:String},formatView:{default:"yyyy年mm月dd日",type:String},value:{default:"",required:!0,type:[Number,String]}},data:function(){return{birthday:"",bir:"",pos:0,elementId:"",isDelete:!1}},computed:{},methods:{onFocusHandler:function(t){this.$emit("focus",t)},onMouseoverHandel:function(){this.birthday||(this.birthday=this.formatView)},onMouseoutHandel:function(){this.birthday==this.formatView&&(this.birthday="")},getCursortPosition:function(){var t=document.getElementById(this.elementId),e=0;if(document.selection){var n=document.selection.createRange();n.moveStart("character",-t.value.length),e=n.text.length}else(t.selectionStart||"0"==t.selectionStart)&&(e=t.selectionStart);return e},setCaretPosition:function(t){var e=document.getElementById(this.elementId);if(e.setSelectionRange)setTimeout(function(){e.setSelectionRange(t,t)},0);else if(e.createTextRange){var n=e.createTextRange();n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select()}},onDeleteHander:function(){var t=this.bir;t=t.split("");for(var e=0,n=0;n<t.length;n++){t[n].match(/[0-9]/)&&(e=n)}t[e]=this.format[e],t=t.join(""),this.bir=this.birthday=t,this.isDelete=!0},dobSubstr:function(t,e){var n=this.formatView;n=n.toLowerCase();var r=n.indexOf(e),i=n.lastIndexOf(e);return(t=t.substring(r,i+1).replace(/[^0-9]/gi,""))+""},dobFormat:function(t,e){if(t.length!==this.formatView.length)return void(this.birthday=this.formatView);for(var n=t.split(""),r=0;r<n.length;r++){var o=n[r];if(o=o.toLowerCase(),o.match(/y|m|d/)){n[r]=e,this.setCaretPosition(r+1);break}}n=n.join("");var a=this.dobSubstr(n,"y"),s=this.dobSubstr(n,"m"),u=this.dobSubstr(n,"d");if(a&&1!=a[0]&&2!=a[0])return!1;if(s){if(0!=s[0]&&1!=s[0])return!1;if(2==s.length&&"Invalid date"==i()(s,"MM").format("x"))return!1}if(u){var d=2==s.length?s:"12",l=4==a.length?a:"2000";if(1==u.length){if(0!=u&&"Invalid date"==i()(l+d+u+"0","YYYYMMDD").format("x"))return!1}else if("Invalid date"==i()(l+d+u,"YYYYMMDD").format("x"))return!1}this.birthday=n,this.bir=n},onInputHander:function(t){var e=/Digit[0-9]/,n=this.birthday;if(e.test(t.code)){var r=t.code.replace("Digit","");this.birthday=this.dobFormat(n,r)||this.birthday}}},watch:{},mounted:function(){this.elementId="vueBirthdayInput_"+Math.round(1e6*Math.random());var t=this.value;if(t){if(t.length!==this.format.length)return;var e=this.format.toUpperCase(),n=this.formatView.toUpperCase();this.birthday=this.bir=i()(t,e).format(n)}}}},function(e,n){e.exports=t},function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"model",rawName:"v-model",value:t.birthday,expression:"birthday"}],attrs:{id:t.elementId,placeholder:t.placeholder,maxlength:t.formatView.length},domProps:{value:t.birthday},on:{focus:t.onFocusHandler,click:t.onFocusHandler,mouseover:t.onMouseoverHandel,mouseout:t.onMouseoutHandel,keyup:[function(e){if(!("button"in e)&&t._k(e.keyCode,"delete",[8,46],e.key))return null;t.onDeleteHander(e)},function(e){t.onInputHander(e)}],input:function(e){e.target.composing||(t.birthday=e.target.value)}}})},i=[],o={render:r,staticRenderFns:i};e.a=o}])});